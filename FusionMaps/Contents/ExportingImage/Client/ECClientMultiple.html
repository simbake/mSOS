<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Exporting Maps as PDF or Images - Client-side export - Exporting multiple maps </title>
<link rel="stylesheet" href="../../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/prettify/prettify.css" />
<script type="text/javascript" src="../../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../../introduction/overview.html", "Exporting as Image/PDF|../ECOverview.html", "Client-side exporting|ECClientOverview.html", "Setting for multiple maps" ] ) );
</script>
<!-- breadcrumb ends here -->


<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Exporting multiple maps </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>When you've multiple maps present on your page, there are three ways to export them using Export Component: </p>
      <ol>
        <li><span class="textBold">One to one</span> - Each map in the page has its own instance of Export Component and they export to the same.  This is the easiest to setup and allows you to place the Export UI for each map wherever you wish it to be.</li>
        <li><span class="textBold">Many to one</span> - In this mode, there is only one instance of Export Component.  Multiple maps export their data to this instance. This instance then shows up a UI, wherein users can select which map they want to save, as well as the export format. </li>
        <li><span class="textBold">Batch Export Mode</span> - In this mode, again there is only one instance of Export Component. Multiple maps export their data to this instance. The difference is that in this mode, the output file can be a single file (that contains images of all the maps). Additionally, there are APIs that help you automatically export all the maps in the page. </li>
      </ol>
      <p><a name="difference"></a>The differences between each mode can be listed as under: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><table width="95%" border="0" cellpadding="2" cellspacing="0" class="table">
      <tr>
        <td width="40%" class="header">Feature</td>
        <td width="20%" class="header">One to One </td>
        <td width="20%" class="header">Many to one </td>
        <td class="header">Batch Mode </td>
      </tr>
      <tr>
        <td width="40%" valign="top" class="textBold">Number of export component instances </td>
        <td width="20%" valign="top" class="text">One export component instance per map in the page </td>
        <td width="20%" valign="top" class="text">Only one export component in the page. </td>
        <td valign="top" class="text">Only one export component in the page.</td>
      </tr>
      <tr>
        <td width="40%" valign="top" class="textBold">Possible triggers for export </td>
        <td width="20%" valign="top" class="text">Both context menu and JavaScript API </td>
        <td width="20%" valign="top" class="text">Both context menu and JavaScript API </td>
        <td valign="top" class="text">JavaScript APIs pertaining to batch export. These APIs allow you to specify which maps to export in batch, and also to export all maps present in the page </td>
      </tr>
      <tr>
        <td width="40%" valign="top" class="textBold">User Interface Mode of Export Component </td>
        <td width="20%" valign="top" class="text">Compact</td>
        <td width="20%" valign="top" class="text">Full</td>
        <td valign="top" class="text">Both Compact &amp; Full. But Full is recommended. </td>
      </tr>
      <tr>
        <td width="40%" valign="top" class="textBold">Where to specify export related parameters? </td>
        <td width="20%" valign="top" class="text">In XML </td>
        <td width="20%" valign="top" class="text">In XML. </td>
        <td valign="top" class="text">In XML. But all the parameters can be over-written collectively for the maps using the JavaScript API. </td>
      </tr>
      <tr>
        <td valign="top" class="textBold">Number of Output Export Files </td>
        <td valign="top" class="text">One output file per map </td>
        <td valign="top" class="text">One output file per map </td>
        <td valign="top" class="text">Both - one per map, a single file containing all maps </td>
      </tr>
    </table><br/></td>
  </tr>
  <tr>
    <td valign="top" class="text"> </td>
  </tr>
  <tr>
    <td valign="top" class="text">In this page, we explain the first two methods - <span class="codeInline">One to One</span> and <span class="codeInline">Many to One</span>. Let's start with the simpler one - <span class="codeInline">One to One</span> Mode. <br/><br/></td>
  </tr>
  <tr>
    <td valign="top" class="text"> </td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="onetoonemode"></a>One to One Mode </td>
  </tr>
   
  <tr>
    <td valign="top" class="text">
       <p>This is the simplest saving mode when you've multiple maps in your page. In this mode, you basically create one instance of Export Component per map, and link the same in map's XML. Consider the XML code for 2 maps below:</p>
      <p><strong>Map 1: </strong></p>
       <pre class="code_container prettyprint">&lt;map caption='World Population 2000-2010' borderColor='005879' fillColor='D7F4FF' numberSuffix=' Mill.' includeValueInLabels='0' labelSepChar=': ' baseFontSize='9' <strong>exportEnabled='1' exportAtClient='1' exportHandler='fcExporter1'</strong>&gt;
&nbsp;&nbsp;&lt;data&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='NA' value='515' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='SA' value='373' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AS' value='3875' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='EU' value='727' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AF' value='885' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AU' value='32' /&gt;
&nbsp;&nbsp;&lt;/data&gt;
&lt;/map&gt;</pre>
       <p><strong>Map 2: </strong></p>
       <pre class="code_container prettyprint">&lt;map caption='World Population 1990-2000' borderColor='005879' fillColor='D7F4FF' numberSuffix=' Mill.' includeValueInLabels='0' labelSepChar=': ' baseFontSize='9' <strong>exportEnabled='1' exportAtClient='1' exportHandler='fcExporter2'</strong>&gt; 
&nbsp;&nbsp;&lt;data&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='NA' value='498' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='SA' value='369' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AS' value='3800' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='EU' value='721' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AF' value='880' /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity id='AU' value='31' /&gt;
&nbsp;&nbsp;&lt;/data&gt;
&lt;/map&gt;</pre>    </td>
  </tr>
  <tr>
    <td valign="top" class="text">
       <p>Note that the only difference between the two XMLs is reference to client-side Export Handler - namely <span class="codeInline">fcExporter1</span> and <span class="codeInline">fcExporter2</span>. And the HTML code that defines these two maps and their handlers can be listed as under: </p>
      </td>
  </tr>
  <tr>
    <td valign="top">
       <pre class="code_container prettyprint">&lt;html&gt;
&lt;head&gt;
	&lt;script language=&quot;JavaScript&quot; src=&quot;../../Maps/FusionCharts.js&quot;&gt;&lt;/script&gt;
	&lt;script language=&quot;JavaScript&quot; src=&quot;../../Maps/FusionChartsExportComponent.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot;&gt;

	&lt;div id=&quot;mapdiv1&quot; align=&quot;center&quot;&gt;The map will appear within this DIV. This text will be replaced by the map.&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myMap1 = new FusionCharts(&quot;../../Maps/FCMap_World.swf&quot;, &quot;myMapId1&quot;, &quot;500&quot;, &quot;300&quot;, &quot;0&quot;, &quot;1&quot;);
		myMap1.setXMLUrl(&quot;SimpleExample.xml&quot;);
		myMap1.render(&quot;mapdiv1&quot;);
	&lt;/script&gt;
	&lt;div id=&quot;fcexpDiv&quot; align=&quot;center&quot;&gt;FusionCharts Export Handler Component&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myExportComponent = new FusionChartsExportObject(&quot;fcExporter1&quot;, &quot;../../Maps/FCExporter.swf&quot;);
		myExportComponent.Render(&quot;fcexpDiv&quot;);
	&lt;/script&gt;

	&lt;div id=&quot;mapdiv2&quot; align=&quot;center&quot;&gt;The map will appear within this DIV. This text will be replaced by the map.&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myMap2 = new FusionCharts(&quot;../../Maps/FCMap_World.swf&quot;, &quot;myMapId2&quot;, &quot;500&quot;, &quot;300&quot;, &quot;0&quot;, &quot;1&quot;);
		myMap2.setXMLUrl(&quot;SimpleExample2.xml&quot;);
		myMap2.render(&quot;mapdiv2&quot;);
	&lt;/script&gt;
	&lt;div id=&quot;fcexpDiv2&quot; align=&quot;center&quot;&gt;FusionCharts Export Handler Component&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myExportComponent2 = new FusionChartsExportObject(&quot;fcExporter2&quot;, &quot;../../Maps/FCExporter.swf&quot;);
		myExportComponent2.Render(&quot;fcexpDiv2&quot;);
	&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Here, we've created:</p>
      <ul>
        <li>2 World Maps - with DOM Id as <span class="codeInline">myMapId</span> and <span class="codeInline">myMapId2</span>.</li>
        <li>2 Export Component Instances - with DOM Id as <span class="codeInline">fxExporter1</span> and <span class="codeInline">fxExporter2</span>, as we had earlier specified in map XML. 
		 <p class="highlightBlock">To provide cross-browser compatibility, we recommend you not to start the ID with a numerical value, nor use space as part of the ID. </p>
		</li>
    </ul>
    <p>When you now run this page, you'll see 2 maps with their own exporter component. The components allow you to download each map's individual export file. Shown below is what the page looks like: </p>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="../Images/ECClientMultiple_1.jpg" width="605" height="547" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>See it <a href="../../../Code/ExportMapSamples/ClientSide/MultipleMaps_One2One.html" target="_blank">live</a>! </p>
      <p>Using this method, you can have any number of maps (with their respective export handler instance) in a single web page. Just make sure to link them correctly using the map XML. </p>
      <p>Let us now see how to use a single export component for multiple maps. </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"> </td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="manytoonemode" id="manytoonemode"></a>Many to one Mode </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>To enable a single export component handle multiple maps, we need to:</p>
      <ul>
        <li>Create the only instance of Export Component in the page at a location which you deem apt for your users to click. Like, if your page has a &quot;Configuration panel&quot; or &quot;Actions panel&quot;, you can place the instance of Export Component there, so that your users know where to click (to download output files) after exporting map. </li>
        <li>Create all the maps in the page. Have their XML link to the instance of Export Component that you earlier embedded.</li>
        <li>Customize the export component to show full mode - this allows your users to select individual map for download, in the format that they need.</li>
      </ul>
    <p>Shown below is an example. For this example, all the maps use the same export related attributes. Note that <span class="codeInline">exportHandler</span> of all maps refer to <span class="codeInline">fcExporter1</span>. </p>
    </td>
  </tr>
  <tr>
    <td valign="top"> <pre class="code_container prettyprint">&lt;map exportEnabled='1' exportAtClient='1' <strong>exportHandler='fcExporter1'</strong> ...&gt;
...
&lt;/map&gt;</pre>    
    </td>
  </tr>
  <tr>
    <td valign="top" class="text">
       <p>The HTML code contains the following: </p>
      </td>
  </tr>
  <tr>
    <td valign="top"> <pre class="code_container prettyprint">&lt;html&gt;
&lt;head&gt;
	&lt;script language=&quot;JavaScript&quot; src=&quot;../../Maps/FusionCharts.js&quot;&gt;&lt;/script&gt;
	&lt;script language=&quot;JavaScript&quot; src=&quot;../../Maps/FusionChartsExportComponent.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot;&gt;
	&lt;div id=&quot;mapdiv1&quot; align=&quot;center&quot;&gt;The map will appear within this DIV. This text will be replaced by the map.&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myMap1 = new FusionCharts(&quot;../../Maps/FCMap_World.swf&quot;, &quot;myMapId1&quot;, &quot;500&quot;, &quot;266&quot;, &quot;0&quot;, &quot;1&quot;);
		myMap1.setXMLUrl(&quot;WP-2000-2010.xml&quot;);
		myMap1.render(&quot;mapdiv1&quot;);
	&lt;/script&gt;  
	&lt;div id=&quot;mapdiv2&quot; align=&quot;center&quot;&gt;The map will appear within this DIV. This text will be replaced by the map.&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myMap2 = new FusionCharts(&quot;../../Maps/FCMap_World.swf&quot;, &quot;myMapId2&quot;, &quot;500&quot;, &quot;266&quot;, &quot;0&quot;, &quot;1&quot;);
		myMap2.setXMLUrl(&quot;WP-1990-2000.xml&quot;);
		myMap2.render(&quot;mapdiv2&quot;);
	&lt;/script&gt;
	&lt;div id=&quot;mapdiv3&quot; align=&quot;center&quot;&gt;The map will appear within this DIV. This text will be replaced by the map.&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myMap3 = new FusionCharts(&quot;../../Maps/FCMap_World.swf&quot;, &quot;myMapId3&quot;, &quot;500&quot;, &quot;266&quot;, &quot;0&quot;, &quot;1&quot;);
		myMap3.setXMLUrl(&quot;WP-1980-1990.xml&quot;);
		myMap3.render(&quot;mapdiv3&quot;);
	&lt;/script&gt;
&lt;div id=&quot;fcexpDiv&quot; align=&quot;center&quot;&gt;FusionCharts Export Handler Component&lt;/div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		var myExportComponent = new FusionChartsExportObject(&quot;fcExporter1&quot;, &quot;../../Maps/FCExporter.swf&quot;);
		//Set configuration
		//Full Mode
		myExportComponent.componentAttributes.fullMode = '1';
		//Set saving type to individual
		myExportComponent.componentAttributes.saveMode = 'individual';
		//Show allowed export format drop-down
		myExportComponent.componentAttributes.showAllowedTypes = '1';
		//Width and height
		myExportComponent.componentAttributes.width = '380';
		myExportComponent.componentAttributes.height = '140';
		//Message - caption of export component
		myExportComponent.componentAttributes.showMessage = '1';
		myExportComponent.componentAttributes.message = 'Export any map from context menu and then use this to save';
		//Set it to show allowed format types as well
		myExportComponent.Render(&quot;fcexpDiv&quot;);
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;   </pre>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>In this code, we've:</p>
      <ul>
        <li>Created 3 World maps referring to the same export handler <span class="codeInline">fcExporter1</span>.</li>
        <li>Created an instance of exporter component with DOM Id as <span class="codeInline">fcExporter1</span>. </li>
      </ul>
      <p>We've set the component to show in full mode. Additionally, we've set <span class="codeInline">saveMode</span> to individual, which is necessary for Many-to-one Mode. Since we want the users to be able to select the saving format for each map's export output, we've also set <span class="codeInline">showAllowedTypes</span> to 1.  Some other cosmetic configuration parameters have also been set.</p>
      <p>When you now run this page, you'll first see three maps and an empty export component on page, as shown below: </p>
      <p><img src="../Images/ECClientMultiple_2.jpg" width="1012" height="544"/></p>
      <p>See it <a href="../../../Code/ExportMapSamples/ClientSide/MultipleMaps_Many2One.html" target="_blank">live</a>! </p> 
      <p>When you now export any map using its context menu, after export, the map gets added to the exporter component, as shown below. </p>    <p><img src="../Images/ECClientMultiple_3.jpg" width="389" height="150" /></p>
      <p>As you export other maps, they too get added to the component. </p>    
    <p><img src="../Images/ECClientMultiple_4.jpg" width="388" height="148" /></p>
      <p> The drop-down box, by default, shows the format which the user selected as output format for the map in its context menu. However, for each map, the user can choose a different output format and click on Save button to save the map, as shown below. </p>
	  <p><img src="../Images/ECClientMultiple_5.jpg" width="387" height="148" /></p>
	  <p>If you, however, do not want the users to be able to select output format here, you can set:</p>
      <pre class="prettyprint code_container">myExportComponent.componentAttributes.showAllowedTypes = '0';</pre>
    <p>And, this will result in:</p>
	<p><img src="../Images/ECClientMultiple_6.jpg" width="385" height="146" /></p>
      <p>The cosmetics of this UI can be extensively configured by specifying the same in your HTML. Please refer to the page <span class="codeInline">Component UI Customization</span> to see the entire list. </p>    </td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Simple example|ECClientSimple.html","Setting JavaScript callback|ECClientCallback.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
</script>
</body>
</html>
