<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<link rel="stylesheet" href="../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery.min.js" ></script>
<script type="text/javascript" src="../assets/ui/js/lib.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whtopic.js"></script>
<title>Getting map reference</title>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../introduction/overview.html", "FusionMaps XT and JavaScript|js_overview.html",  "Getting map reference" ] ) );
</script>
<!-- breadcrumb ends here -->
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr>
    <td class="pageHeader">Getting map reference</td>

  </tr>
  <tr>
    <td valign="top" class="text">
	<p class="highlightBlock"> FusionMaps XT uses FusionCharts JavaScript Class that takes care of all the products of FusionCharts Suite XT including FusionMaps XT.</p>
       <p>After a map  renders, you might want to do a lot of things with it, like, update data, get data from it, print it, export it as an image or a PDF, add event listener to it, change its setting or resize it. You may even want to clone it, remove it or obtain certain information, such as, map type, id, width, height, version signature, etc. You might be interested to know whether the map has rendered or not, whether the map is visible or see if it is active. To achieve all these, first, you must get the reference to the map object i.e., handler of the map. Next, you do the desired operation on it. </p>
       <p>Here, in this page, we will learn how to get the reference to a map object.</p>

    </td>
  </tr>
  <tr>
     <td valign="top" class="header"><a name="chartreference" id="chartreference"></a>Get reference to the map object </td>
  </tr>
  
  <tr>
     
       <td valign="top" class="text">
         <p>There are numerous ways of getting the reference to a map object. On a broader level, you can get two types of references:</p>
          <ol>
            <li>the reference to the JavaScript Object that acts as a wrapper of the map (that is, JavaScript variable)</li>
            <li>the reference to map HTML Object which is embedded in the web page (that is, map SWF  Object) </li>
          </ol>
         <p><strong><a name="js" id="js"></a>Get JavaScript Object reference </strong></p>
          To get the reference to the JavaScript object you can do one of the following:
         <div style="padding:20px"><strong> 1. Using JavaScript global variable name </strong>
           <p>If you have declared the JavaScript object in global-scope when instantiating the map, you can use the  JavaScript object's name as the reference. </p>
          <span class="msg_handler_slider"><a>Click here to see full code </a> &raquo; </span>
          <div class="msg_body" style="width:620px; overflow:auto;margin:0;padding:0;">
            <pre class="code_container prettyprint" style="margin:0; padding:10;">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Get map reference from variable in JS Global Scope&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;Maps/FusionCharts.js&quot;&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;<strong>mapContainer</strong>&quot;&gt;FusionMaps XT will load here!&lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--

      var <strong>myMap</strong> = new FusionCharts( &quot;Maps/FCMap_World.swf&quot;, 
      &quot;myMapId&quot;, &quot;400&quot;, &quot;300&quot;, &quot;0&quot; );
      myMap.setXMLUrl(&quot;Data.xml&quot;);
      myMap.render(&quot;mapContainer&quot;);

    // --&gt;
    &lt;/script&gt;
    &lt;input type=&quot;button&quot; onclick=&quot;<strong>myMap.print();&quot; </strong>value=&quot;Print&quot;&gt;

  &lt;/body&gt;
&lt;/html&gt;</pre>
           </div>
          <p>
          <strong><a name="array" id="array"></a>2. Using FusionCharts.items[] static Array </strong>	</p>				   
          
          <p><span class="codeInline"><strong>FusionCharts.items[]</strong></span> is an associative array that stores all the maps rendered in a page. The DOMId is represented by the key and the JavaScript map object is the respective value. If you pass the DOMId of the map to this array, you will get the reference to the JavaScript Object of the related map.</p>
          <pre class="code_container prettyprint">var map = FusionCharts.<a href="API/properties.html#items">items</a>[&quot;myMapId&quot;]; <br/></pre>
          
          <p><strong><a name="function" id="function"></a>3. Using FusionCharts() function </strong></p>
          <p>You can also pass the map's DOMId to <span class="codeInline"><strong>FusionCharts()</strong></span>. Like <span class="codeInline">FusionCharts.items[], FusionCharts()</span> also  returns the JavaScript Object of the map.</p>
          <pre class="code_container prettyprint">var map = <a href="API/methods.html#staticfusioncharts">FusionCharts</a>(&quot;myMapId&quot;);</pre>
                    <p class="highlightBlock">It is recommended to use one of the above mentioned methods to get JavaScript Object reference of the maps. <br />
            <br />
           The other methods, as explained below, of getting the reference of the map HTML Object are not recommended as HTML Object  provides <a href="API/methods.html#setxmlurl">limited interactive features</a>.</p>
          <p>
          <strong>4. <a name="legacy" id="legacy"></a>Using legacy function</strong>: <strong>getMapFromId</strong>(<strong>DOMId</strong>) </p>
          <p>The legacy function <span class="codeInline">getMapFromId()</span> still works. It is a global function (that is, it can be accessed from global/window scope) that returns the map's Object (reference to map SWF  object). </p>
          <pre class="code_container prettyprint">var map = getMapFromId( DOMId );</pre>
          
          <p class="highlightBlock"><span class="codeInline">getMapFromId()</span> has been deprecated</p>
         </div><strong><a name="html" id="html"></a>Get HTML Object reference</strong>
<p>To get the reference to the map HTML object you can use the following function:</p>
			 <div style="padding:20px"><strong>1. FusionCharts.getObjectReference(DOMId)</strong>
										  <p><span class="codeInline">getObjectReference()</span> is static function of <span class="codeInline">FusionCharts </span>class. Like <span class="codeInline">getMapFromId()</span> it also returns the map's HTML Object when map's <span class="codeInline">DOMId</span> is passed to it as parameter. </p>
<pre class="code_container prettyprint">var map = FusionCharts.<strong>getObjectReference</strong>( DOMId );</pre>

</div>
    </td>
  </tr>
   <tr>
     <td valign="top" class="highlightBlock">Complete  Reference to all the  properties, functions and events of <span class="codeInline">FusionCharts</span> classes is provided in <a href="API/overview.html">API Reference</a> section.</td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Constructor methods|js_create_chart.html","Providing & updating data|js_change_data.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
</script>
</body>
</html>
